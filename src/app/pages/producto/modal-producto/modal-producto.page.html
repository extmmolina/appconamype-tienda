<ion-header no-border translucent>
    <ion-toolbar color="primary">
        <ion-buttons slot="end">
            <ion-button (click)="cerrarModal()">Cerrar</ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <form #formulario="ngForm" (ngSubmit)="startUpload()">
        <ion-card color="light">
            <ion-card-header color="secondary">
                <ion-card-title class="ion-text-center">{{ titulo }}</ion-card-title>
            </ion-card-header>

            <ion-card-content>
                <ion-item>
                    <ion-label position="floating">Nombre del producto</ion-label>
                    <ion-input type="text" name="nombre" [(ngModel)]="form.nombre" required clearInput>
                    </ion-input>
                </ion-item>

                <ion-item>
                    <ion-label position="floating">Descripción</ion-label>
                    <ion-textarea type="text" name="descripcion" [(ngModel)]="form.descripcion" required
                                  clearInput></ion-textarea>
                </ion-item>

                <ion-item>
                    <ion-label>Marca</ion-label>
                    <ion-select placeholder="Seleccione..." interface="action-sheet" name="marca_id"
                                [(ngModel)]="form.marca_id">
                        <ion-select-option *ngFor="let item of marca" [value]="item.marca_id">
                            {{item.nombre}}
                        </ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-item>
                    <ion-label>Tipo</ion-label>
                    <ion-select placeholder="Seleccione..." interface="action-sheet" name="marca_id"
                                [(ngModel)]="form.tipo_producto_id">
                        <ion-select-option *ngFor="let item of tipoproducto" [value]="item.tipo_producto_id">
                            {{item.nombre}}
                        </ion-select-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Precio</ion-label>
                    <ion-input type="number" name="precio" [(ngModel)]="form.precio" required clearInput></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Precio promoción</ion-label>
                    <ion-input type="number" name="precio_promocion" [(ngModel)]="form.precio_promocion" required
                               clearInput></ion-input>
                </ion-item>
                <ion-row>
                    <ion-col>
                        <ion-button shape="round" fill="outline" expand="full" (click)="selectImage()">
                            <i slot="start" class="material-icons-outlined">add_photo_alternate</i>
                            <ion-label>&nbsp;&nbsp;Cargar imagen</ion-label>
                        </ion-button>
                    </ion-col>
                </ion-row>
                <ion-row *ngIf="tempImages">
                    <ion-col size="12">
                        <ion-card>
                            <img [src]="tempImages">
                        </ion-card>
                    </ion-col>
                </ion-row>
            </ion-card-content>
            <ion-card-content>
                <ion-button expand="full" shape="round" type="submit" [disabled]="formulario.invalid">
                    Registrar
                </ion-button>
            </ion-card-content>
        </ion-card>
    </form>
</ion-content>
